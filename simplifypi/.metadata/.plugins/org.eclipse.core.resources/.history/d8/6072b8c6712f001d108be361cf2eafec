<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.ydsworld.casetracker.web</groupId>
  <artifactId>case-web-service</artifactId>
  <name>Case Tracker REST Service</name>
  <description>Case Tracker REST Service</description>

  <!-- Parent Project -->
  <parent>
    <groupId>com.ydsworld.casetracker</groupId>
    <artifactId>rest</artifactId>
    <version>2.0.0.0</version>
  </parent>

  <properties>
    <!-- Minify plugin properties -->
    <minify.skipMinify>false</minify.skipMinify>
    <minify.plugin.version>1.7.6</minify.plugin.version>
    <minify.web.src>${basedir}</minify.web.src>
    <minify.js.src>/src/main/resources/static</minify.js.src>
    <minify.js.dest>/src/main/resources/static</minify.js.dest>
    <minify.css.src>/src/main/resources/static</minify.css.src>
    <minify.css.dest>/src/main/resources/static</minify.css.dest>
    <minify.phase>compile</minify.phase>
    <minify.final.js.name>simplify-pi.js</minify.final.js.name>
    <minify.final.css.name>simplify-pi.css</minify.final.css.name>
  </properties>

  <dependencies>
    <dependency>
      <groupId>com.ydsworld.casetracker.framework</groupId>
      <artifactId>framework-rest</artifactId>
      <version>2.0.0.0</version>
    </dependency>
    <dependency>
      <groupId>com.ydsworld.casetracker.service</groupId>
      <artifactId>case-manager</artifactId>
      <version>2.0.0.0</version>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <groupId>com.samaxes.maven</groupId>
        <artifactId>minify-maven-plugin</artifactId>
        <version>${minify.plugin.version}</version>
        <executions>
          <execution>
            <id>default-minify</id>
            <phase>${minify.phase}</phase>
            <goals>
              <goal>minify</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <charset>UTF-8</charset>
          <skipMinify>${minify.skipMinify}</skipMinify>
          <webappSourceDir>${minify.web.src}</webappSourceDir>
          <jsSourceDir>${minify.js.src}</jsSourceDir>
          <jsSourceFiles>
            <jsSourceFile>/js/constants/google.js</jsSourceFile>
            <jsSourceFile>/style/jquery/dist/jquery.min.js</jsSourceFile>
            <jsSourceFile>/js/jquery-ui.min.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap/dist/js/bootstrap.min.js</jsSourceFile>
            <jsSourceFile>/js/angular.min.js</jsSourceFile>
            <jsSourceFile>/js/angular-ui-utils.min.js</jsSourceFile>
            <jsSourceFile>/style/fastclick/lib/fastclick.js</jsSourceFile>
            <jsSourceFile>/style/nprogress/nprogress.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap-progressbar/bootstrap-progressbar.min.js</jsSourceFile>
            <jsSourceFile>/style/iCheck/icheck.js</jsSourceFile>
            <jsSourceFile>/style/switchery/dist/switchery.js</jsSourceFile>
            <jsSourceFile>/style/skycons/skycons.js</jsSourceFile>
            <jsSourceFile>/style/DateJS/build/date.js</jsSourceFile>
            <jsSourceFile>/style/moment/min/moment.min.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap-daterangepicker/daterangepicker.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap-datetimepicker/src/js/bootstrap-datetimepicker.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap-datepicker-1.6.4-dist/js/bootstrap-datepicker.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap-datepicker-1.6.4-dist/locales/bootstrap-datepicker.en-AU.min.js</jsSourceFile>
            <jsSourceFile>/style/jquery.tagsinput/src/jquery.tagsinput.js</jsSourceFile>
            <jsSourceFile>/style/jquery.inputmask/dist/min/jquery.inputmask.bundle.min.js</jsSourceFile>
            <jsSourceFile>/style/jquery-sparkline/dist/jquery.sparkline.min.js</jsSourceFile>
            <jsSourceFile>/style/pnotify/dist/pnotify.js</jsSourceFile>
            <jsSourceFile>/style/pnotify/dist/pnotify.buttons.js</jsSourceFile>
            <jsSourceFile>/style/pnotify/dist/pnotify.nonblock.js</jsSourceFile>
            <jsSourceFile>/style/chosen/chosen.jquery.js</jsSourceFile>
            <jsSourceFile>/js/angular-chosen.min.js</jsSourceFile>
            <jsSourceFile>/style/chosen/docsupport/init.js</jsSourceFile>
            <jsSourceFile>/style/dropzone/dist/min/dropzone.min.js</jsSourceFile>
            <jsSourceFile>/js/ng-dropzone.js</jsSourceFile>
            <jsSourceFile>/js/xeditable.min.js</jsSourceFile>
            <jsSourceFile>/js/ng-currency.js</jsSourceFile>
            <jsSourceFile>/js/angular-sanitize.js</jsSourceFile>
            <jsSourceFile>/style/bootstrap/select.js</jsSourceFile>
            <jsSourceFile>/js/ngMask.js</jsSourceFile>
            <jsSourceFile>/js/ng-infinite-scroll.min.js</jsSourceFile>
            <jsSourceFile>/js/jquery-ui.multidatespicker.js</jsSourceFile>
            <jsSourceFile>/js/datatable/angular-datatables.min.js</jsSourceFile>
            <jsSourceFile>/js/datatable/angular-datatables.bootstrap.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net/js/jquery.dataTables.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-bs/js/dataTables.bootstrap.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-buttons/js/dataTables.buttons.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-buttons-bs/js/buttons.bootstrap.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-buttons/js/buttons.flash.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-buttons/js/buttons.html5.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-buttons/js/buttons.print.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-keytable/js/dataTables.keyTable.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-responsive/js/dataTables.responsive.min.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-responsive-bs/js/responsive.bootstrap.js</jsSourceFile>
            <jsSourceFile>/style/datatables.net-scroller/js/dataTables.scroller.min.js</jsSourceFile>
            <jsSourceFile>/vendors/ui-cropper/compile/unminified/ui-cropper.js</jsSourceFile>
            <jsSourceFile>/js/datatable/ng-sortable.js</jsSourceFile>
            <!-- <jsSourceFile>/style/Chart.js/dist/Chart.min.js</jsSourceFile> -->
            <jsSourceFile>/style/gauge.js/dist/gauge.min.js</jsSourceFile>
            <jsSourceFile>/vendors/fullcalendar/dist/fullcalendar.js</jsSourceFile>
            <jsSourceFile>/vendors/fullcalendar/dist/scheduler.js</jsSourceFile>
            <!-- <jsSourceFile>/style/echarts/dist/echarts.min.js</jsSourceFile>
            <jsSourceFile>/style/echarts/map/js/world.js</jsSourceFile> -->
            <jsSourceFile>/js/mask.js</jsSourceFile>
            <jsSourceFile>/js/jquery.autocomplete.multiselect.js</jsSourceFile>
            <jsSourceFile>/style/build/js/custom.js</jsSourceFile>
            <jsSourceFile>/js/timeout.js</jsSourceFile>
            <jsSourceFile>/js/common.js</jsSourceFile>
            <jsSourceFile>/js/alertsNotifications.js</jsSourceFile>
            <jsSourceFile>/js/profilepicdwnld.js</jsSourceFile>
            <jsSourceFile>/js/helpers/common/common.js</jsSourceFile>
            <jsSourceFile>/js/helpers/common/dom.js</jsSourceFile>
            <jsSourceFile>/js/helpers/common/notification.js</jsSourceFile>
            <jsSourceFile>/js/helpers/common/color.js</jsSourceFile>
            <jsSourceFile>/js/helpers/common/utils.js</jsSourceFile>
            <jsSourceFile>/js/helpers/office/office.js</jsSourceFile>
            <jsSourceFile>/services/office.js</jsSourceFile>
            <jsSourceFile>/js/filters/utils.js</jsSourceFile>
          </jsSourceFiles>
          <jsTargetDir>${minify.js.dest}</jsTargetDir>
          <jsFinalFile>${minify.final.js.name}</jsFinalFile>
          <jsEngine>YUI</jsEngine>
          <cssSourceDir>${minify.js.src}</cssSourceDir>
          <cssSourceFiles>
            <cssSourceFile>/style/jquery-ui.min.css</cssSourceFile>
            <cssSourceFile>/style/xeditable.min.css</cssSourceFile>
            <cssSourceFile>/style/bootstrap/dist/css/bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/font-awesome/css/font-awesome.min.css</cssSourceFile>
            <cssSourceFile>/style/datatables.net-bs/css/dataTables.bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/datatables.net-buttons-bs/css/buttons.bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/datatables.net-responsive-bs/css/responsive.bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/datatables.net-scroller-bs/css/scroller.bootstrap.min.css</cssSourceFile>
            <cssSourceFile>/style/nprogress/nprogress.css</cssSourceFile>
            <cssSourceFile>/style/iCheck/skins/flat/_all.css</cssSourceFile>
            <cssSourceFile>/style/switchery/dist/switchery.css</cssSourceFile>
            <cssSourceFile>/style/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css</cssSourceFile>
            <cssSourceFile>/style/bootstrap-datepicker-1.6.4-dist/css/bootstrap-datepicker3.css</cssSourceFile>
            <cssSourceFile>/style/bootstrap-daterangepicker/daterangepicker.css</cssSourceFile>
            <cssSourceFile>/style/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css</cssSourceFile>
            <cssSourceFile>/style/pnotify/dist/pnotify.css</cssSourceFile>
            <cssSourceFile>/style/pnotify/dist/pnotify.buttons.css</cssSourceFile>
            <cssSourceFile>/style/pnotify/dist/pnotify.nonblock.css</cssSourceFile>
            <cssSourceFile>/style/chosen/chosen.css</cssSourceFile>
            <cssSourceFile>/style/dropzone/dist/min/dropzone.min.css</cssSourceFile>
            <cssSourceFile>/style/ng-sortable.css</cssSourceFile>
            <cssSourceFile>/vendors/fullcalendar/dist/fullcalendar.css</cssSourceFile>
            <cssSourceFile>/style/build/css/custom.min.css</cssSourceFile>
            <cssSourceFile>/style/common.css</cssSourceFile>
            <cssSourceFile>/style/fileicon.css</cssSourceFile>
            <cssSourceFile>/style/select2/select.css</cssSourceFile>
            <cssSourceFile>/style/select2/select2.css</cssSourceFile>
            <cssSourceFile>/style/multiselct.css</cssSourceFile>
            <cssSourceFile>/vendors/ui-cropper/compile/unminified/ui-cropper.css</cssSourceFile>
            <cssSourceFile>/css/theme/simplifypi.css</cssSourceFile>
          </cssSourceFiles>
          <cssTargetDir>${minify.css.dest}</cssTargetDir>
          <cssFinalFile>${minify.final.css.name}</cssFinalFile>
          <jsEngine>CLOSURE</jsEngine>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-maven-plugin</artifactId>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-antrun-plugin</artifactId>
        <version>1.6</version>
        <executions>
          <execution>
            <id>prepare</id>
            <phase>package</phase>
            <configuration>
              <tasks>
                <unzip src="${project.build.directory}/${project.build.finalName}.jar" dest="${project.build.directory}/${project.build.finalName}" />
                <copy todir="${project.build.directory}/${project.build.finalName}/" overwrite="false">
                  <fileset dir="./" includes=".ebextensions/**" />
                </copy>
                <!-- <jar jarfile="${project.build.directory}/${project.build.finalName}.jar" basedir="${project.build.directory}/${project.build.finalName}"/>-->
                <zip compress="false" destfile="${project.build.directory}/${project.build.finalName}.jar" basedir="${project.build.directory}/${project.build.finalName}" />
              </tasks>
            </configuration>
            <goals>
              <goal>run</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

    </plugins>
  </build>

  <profiles>
    <profile>
      <id>fe-development</id>
      <properties>
        <!-- Minify plugin properties -->
        <minify.skipMinify>true</minify.skipMinify>
      </properties>
      <build>
        <plugins>
          <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
            <configuration>
              <arguments>
                <argument>--spring.thymeleaf.cache=false</argument>
                <argument>--spring.devtools.livereload.enabled=false</argument>
                <argument>--spring.resources.cache.period=0</argument>
                <argument>--spring.resources.chain.cache=false</argument>
                <argument>--spring.resources.cache.cachecontrol.no-store=true</argument>
                <argument>--spring.resources.cache.cachecontrol.must-revalidate=true</argument>
                <argument>--spring.resources.cache.cachecontrol.no-cache=true</argument>
                <argument>--spring.resources.static-locations=file:./src/main/resources/static</argument>
              </arguments>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <configuration>
              <addResources>true</addResources>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>

</project>